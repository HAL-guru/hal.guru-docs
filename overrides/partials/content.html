{% set last_updated = page.meta.git_revision_date_localized or page.meta.git_revision_date %}
{% set autogenerated = page.meta.autogenerated | default(false) %}
{% set autogenerated = autogenerated is true or (autogenerated | string | lower in ['true', 'yes', '1']) %}
{% set core_version = page.meta.core %}
{% set show_page_footer = last_updated or autogenerated or core_version %}

<main class="md-main" data-md-component="main">
    <div class="md-main__inner md-grid">
        <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
                {% if page.title and not page.meta.hide %}
                <h1 class="page-title">{{ page.title | d(config.site_name, true) }}</h1>
                {% endif %}

                {{ page.content }}

                {% if show_page_footer %}
                <hr/>
                <ul class="content-footer">
                    {% if last_updated %}
                    <li><small>Last updated on {{ last_updated }}</small></li>
                    {% endif %}
                    {% if autogenerated %}
                    <li><small>This page was generated with the help of AI.</small></li>
                    {% endif %}
                    {% if core_version %}
                    <li><small>AI Agent Core version {{ core_version }}.</small></li>
                    {% endif %}
                </ul>
                {% endif %}
            </article>
        </div>

        {# UNDONE: Is this needed? #}
        {# According to the documentation, it should be necessary, but the page seems to work fine without it. #}
        {# {% include "partials/toc.html" %} #}
    </div>
</main>
